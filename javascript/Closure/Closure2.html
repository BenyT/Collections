<html>
<head>
	<title>test closure</title>
	<script type="text/javascript">
	var makeCounter = function() {
		var privateCounter = 0;
		function changeBy(val) {
			privateCounter += val;
		}
		return {
			increment: function() {
				changeBy(1);
			},
			decrement: function() {
				changeBy(-1);
			},
			value: function() {
				return privateCounter
			}
		}
	};

	function printer(counter) {
		document.write(counter.value());
		document.write('<br />');
	}
	</script>
</head>
<body>
<script type="text/javascript">
var counter1 = makeCounter();
var counter2 = makeCounter();

printer(counter1);

counter1.increment();
counter1.increment();

printer(counter1);

counter1.decrement();

printer(counter1);
printer(counter2);
</script>
</body>
</html>